---
const { title = "Logan MacAskill" } = Astro.props;

// Current path (e.g. "/", "/projects", "/about")
const path = Astro.url.pathname.replace(/\/+$/, "") || "/";

const isHome = path === "/";
const isProjects = path === "/projects";
const isAbout = path === "/about";

// Button rules:
// - Home: left -> /about, right -> /projects
// - Other pages: left -> /, right -> the "other" page (projects <-> about)
let leftHref = "/";
let leftLabel = "Home";

let rightHref = "/projects";
let rightLabel = "Projects";

if (isHome) {
  rightHref = "/about";
  rightLabel = "About Me";
  leftHref = "/projects";
  leftLabel = "Projects";
} else if (isProjects) {
  leftHref = "/";
  leftLabel = "Home";
  rightHref = "/about";
  rightLabel = "About Me";
} else if (isAbout) {
  leftHref = "/";
  leftLabel = "Home";
  rightHref = "/projects";
  rightLabel = "Projects";
} else {
  // Any other page: default right button to Projects
  leftHref = "/";
  leftLabel = "Home";
  rightHref = "/projects";
  rightLabel = "Projects";
}
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>{title}</title>
    <link rel="stylesheet" href="/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  </head>
  
  <body style="font-size: 75%">
    <main>
      <img src="/icon.png" class="icon" alt="" width="72" height="72" />
      <slot />
        <nav class="site-bottom-nav">
          <button
            class="btn primary"
            type="button"
            onclick={`window.location.href='${leftHref}'`}
          >
            {leftLabel}
          </button>

          <button
            class="btn secondary"
            type="button"
            onclick={`window.location.href='${rightHref}'`}
          >
            {rightLabel}
          </button>
        </nav>
    </main>
  </body>
</html>